let imgContainer,pages=[[34,32],[8,10,5]],comic=0,chapter=0,page=0,firstLoad=5;function changeContent(e){imgContainer.children[page-1-e].style.display="none",imgContainer.children[page-1].style.display="inline"}function getCurrentParams(){let e=new URLSearchParams(location.search);comic=Number(e.get("s")),chapter=Number(e.get("c")),page=Number(e.get("p"))}function loadPage(e){pageElement=imgContainer.children[e-1],pageElement.getAttribute("data-src")&&(pageElement.setAttribute("src",pageElement.getAttribute("data-src")),pageElement.removeAttribute("data-src"))}function checkParams(){if(null!=pages[comic-1]){if(null!=pages[comic-1][chapter-1]&&page>0&&page<=pageCount)return!0}return!1}function firstLoadContent(){imgContainer=document.querySelector(".imageContainer");for(let e=1;e<=pages[comic-1][chapter-1];++e){let t=document.createElement("img");t.setAttribute("class","comicPage"),t.setAttribute("data-src",`/img/comics/${comic}/${chapter}/${e}.png`),t.style.display="none",imgContainer.appendChild(t)}for(let e=0;e<firstLoad;++e)page+e<=pages[comic-1][chapter-1]&&loadPage(page+e);imgContainer.children[page-1].style.display="inline"}function postLoadContent(){let e=page+firstLoad-1;e<=pages[comic-1][chapter-1]&&loadPage(e)}function turnChapter(e){if((chapter+=e)>0&&chapter<=pages[comic-1].length){for(page=1,history.pushState("",`Comic ${comic}, Chapter ${chapter}, Page ${page}`,`/reader.html?s=${comic}&c=${chapter}&p=${page}`),window.scroll(0,0);imgContainer.firstChild;)imgContainer.removeChild(imgContainer.lastChild);firstLoadContent()}else window.open("/index.html","_self")}function turnPage(e){(page+=e)<=0?turnChapter(-1):page>pages[comic-1][chapter-1]?turnChapter(1):(history.pushState("",`Comic ${comic}, Chapter ${chapter}, Page ${page}`,`/reader.html?s=${comic}&c=${chapter}&p=${page}`),window.scroll(0,0),e>0?(changeContent(e),postLoadContent()):(loadPage(page),changeContent(e)))}window.onload=function(){getCurrentParams(),checkParams()?firstLoadContent():window.open("/index.html","_self")};